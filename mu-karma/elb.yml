Resources:
  CloudFrontDist:
    Properties:
      DistributionConfig:
        CacheBehaviors:
        - AllowedMethods:
          - DELETE
          - GET
          - HEAD
          - OPTIONS
          - PATCH
          - POST
          - PUT
          DefaultTTL: 0
          ForwardedValues:
            QueryString: true
            Cookies:
              Forward: all
            Headers:
            - '*'
          MaxTTL: 60
          MinTTL: 0
          PathPattern: /management*
          TargetOriginId: ecs-alb
          ViewerProtocolPolicy:
            Fn::If:
            - HasCloudFrontCert
            - redirect-to-https
            - allow-all
        - AllowedMethods:
          - DELETE
          - GET
          - HEAD
          - OPTIONS
          - PATCH
          - POST
          - PUT
          DefaultTTL: 0
          ForwardedValues:
            QueryString: true
            Cookies:
              Forward: all
            Headers:
            - '*'
          MaxTTL: 60
          MinTTL: 0
          PathPattern: /swagger-resources*
          TargetOriginId: ecs-alb
          ViewerProtocolPolicy:
            Fn::If:
            - HasCloudFrontCert
            - redirect-to-https
            - allow-all
        - AllowedMethods:
          - DELETE
          - GET
          - HEAD
          - OPTIONS
          - PATCH
          - POST
          - PUT
          DefaultTTL: 0
          ForwardedValues:
            QueryString: true
            Cookies:
              Forward: all
            Headers:
            - '*'
          MaxTTL: 60
          MinTTL: 0
          PathPattern: /v2*
          TargetOriginId: ecs-alb
          ViewerProtocolPolicy:
            Fn::If:
            - HasCloudFrontCert
            - redirect-to-https
            - allow-all
